<section class="choosing-business-type_section">
    <h2 class="choosing-business-type-title">My Deduction Finder</h2>
    <p class="choosing-business-type-text text-center mb-5">
        Now let’s find some tax deductions to help improve your refund.
    </p>
    <h4 class="form_title">These are common tax deductions for a Manager - retail store.</h4>
    <div class="select_deduction_container mt-0">
        <div class="deduction-item" data-index="0"><div class="deduction-label"><p>Car expenses + parking + tolls</p><img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr"></div><div class="deduction-icon"><img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image"></div></div>
        <div class="deduction-item" data-index="1"><div class="deduction-label"><p>Travel Expenses</p><img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr"></div><div class="deduction-icon"><img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image"></div></div>
        <div class="deduction-item" data-index="2"><div class="deduction-label"><p>Mobile Phone</p><img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr"></div><div class="deduction-icon"><img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image"></div></div>
        <div class="deduction-item" data-index="3"><div class="deduction-label"><p>Internet Access</p><img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr"></div><div class="deduction-icon"><img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image"></div></div>
        <div class="deduction-item" data-index="4"><div class="deduction-label"><p>Computer / Laptop</p><img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr"></div><div class="deduction-icon"><img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image"></div></div>
        <div class="deduction-item" data-index="5"><div class="deduction-label"><p>Gifts / Donations</p><img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr"></div><div class="deduction-icon"><img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image"></div></div>
        <div class="deduction-item" data-index="6"><div class="deduction-label"><p>Home Office Expenses</p><img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr"></div><div class="deduction-icon"><img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image"></div></div>
        <div class="deduction-item" data-index="7"><div class="deduction-label"><p>Books & Other Work-Related Expenses</p><img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr"></div><div class="deduction-icon"><img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image"></div></div>
        <div class="deduction-item" data-index="8"><div class="deduction-label"><p>Cost of Tax Affairs</p><img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr"></div><div class="deduction-icon"><img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image"></div></div>
    </div>
    <h4 class="form_title mt-4">Is there anything else you can claim?</h4>
    <div class="select_deduction_container select_deduction_container1 mt-0">
        <div class="deduction-item" data-index="9"><div class="deduction-label"><p>Uniforms</p><img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr"></div><div class="deduction-icon"><img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image"></div></div>
        <div class="deduction-item" data-index="10"><div class="deduction-label"><p>Education Expenses</p><img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr"></div><div class="deduction-icon"><img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image"></div></div>
        <div class="deduction-item" data-index="11"><div class="deduction-label"><p>Tools and Equipment</p><img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr"></div><div class="deduction-icon"><img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image"></div></div>
        <div class="deduction-item" data-index="12"><div class="deduction-label"><p>Superannuation Contributions</p><img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr"></div><div class="deduction-icon"><img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image"></div></div>
        <div class="deduction-item" data-index="13"><div class="deduction-label"><p>Home Office Occupancy</p><img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr"></div><div class="deduction-icon"><img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image"></div></div>
        <div class="deduction-item" data-index="14"><div class="deduction-label"><p>Union Fees</p><img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr"></div><div class="deduction-icon"><img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image"></div></div>
        <div class="deduction-item" data-index="15"><div class="deduction-label"><p>Sun Protection</p><img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr"></div><div class="deduction-icon"><img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image"></div></div>
        <div class="deduction-item" data-index="16"><div class="deduction-label"><p>Low Value Pool Deduction</p><img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr"></div><div class="deduction-icon"><img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image"></div></div>
        <div class="deduction-item" data-index="17"><div class="deduction-label"><p>Interest Deductions</p><img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr"></div><div class="deduction-icon"><img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image"></div></div>
        <div class="deduction-item" data-index="18"><div class="deduction-label"><p>Dividend Deductions</p><img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr"></div><div class="deduction-icon"><img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image"></div></div>
        <div class="deduction-item hidden" data-index="19">
        <div class="deduction-label">
                <p>Deductible Amount Of UPP</p>
                <img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr">
            </div>
            <div class="deduction-icon">
                <img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image">
            </div>
        </div>
        <div class="deduction-item hidden" data-index="20">
            <div class="deduction-label">
                <p>Deduction For Project Pool</p>
                <img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr">
            </div>
            <div class="deduction-icon">
                <img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image">
            </div>
        </div>
        <div class="deduction-item hidden" data-index="21">
            <div class="deduction-label">
                <p>Investment Scheme Deduction</p>
                <img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr">
            </div>
            <div class="deduction-icon">
                <img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image">
            </div>
        </div>
        <div class="deduction-item hidden" data-index="22">
            <div class="deduction-label">
                <p>Other Deductions</p>
                <img src="{{ asset('img/icons/hr.png') }}" class="img-fluid" alt="hr">
            </div>
            <div class="deduction-icon">
                <img src="{{ asset('img/image.png') }}" class="img-fluid" alt="image">
            </div>
        </div>
    </div>
    
    <div class="text-center">
        <button class="btn toggle-btn" id="toggleDeductionBtn">Show More</button>
    </div>
</section>

<section class="choosing-business-type_section">
    <h2 class="choosing-business-type-title" id="deduction-forms_title">Let’s add the details</h2>
    <div class="deduction-form-container">
        <div class="d-none" id="form-deduction-0">@include('forms.deduction.car_expenses')</div>
        <div class="d-none" id="form-deduction-1">@include('forms.deduction.travel_expenses')</div>
        <div class="d-none" id="form-deduction-2">@include('forms.deduction.mobile_phone')</div>
        <div class="d-none" id="form-deduction-3">@include('forms.deduction.internet_access')</div>
        <div class="d-none" id="form-deduction-4">@include('forms.deduction.computer')</div>
        <div class="d-none" id="form-deduction-5">@include('forms.deduction.gifts')</div>
        <div class="d-none" id="form-deduction-6">@include('forms.deduction.home_office')</div>
        <div class="d-none" id="form-deduction-7">@include('forms.deduction.books')</div>
        <div class="d-none" id="form-deduction-8">@include('forms.deduction.tax_affairs')</div>
        <div class="d-none" id="form-deduction-9">@include('forms.deduction.uniforms')</div>
        <div class="d-none" id="form-deduction-10">@include('forms.deduction.education')</div>
        <div class="d-none" id="form-deduction-11">@include('forms.deduction.tools')</div>
        <div class="d-none" id="form-deduction-12">@include('forms.deduction.superannuation')</div>
        <div class="d-none" id="form-deduction-13">@include('forms.deduction.office_occupancy')</div>
        <div class="d-none" id="form-deduction-14">@include('forms.deduction.union_fees')</div>
        <div class="d-none" id="form-deduction-15">@include('forms.deduction.sun_protection')</div>
        <div class="d-none" id="form-deduction-16">@include('forms.deduction.low_value_pool')</div>
        <div class="d-none" id="form-deduction-17">@include('forms.deduction.interest_deduction')</div>
        <div class="d-none" id="form-deduction-18">@include('forms.deduction.dividend_deduction')</div>
        <div class="d-none" id="form-deduction-19">@include('forms.deduction.upp')</div>
        <div class="d-none" id="form-deduction-20">@include('forms.deduction.project_pool')</div>
        <div class="d-none" id="form-deduction-21">@include('forms.deduction.investment_scheme')</div>
        <div class="d-none" id="form-deduction-22">@include('forms.deduction.other')</div>
    </div>
</section>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const items = document.querySelectorAll(".deduction-item");

    items.forEach((item) => {
        item.addEventListener("click", () => {
            const index = item.getAttribute("data-index");
            const formToShow = document.getElementById(`form-deduction-${index}`);

            if (!formToShow) return;

            if (formToShow.classList.contains("d-none")) {
                formToShow.classList.remove("d-none");
                item.classList.add("active");

                const target = document.getElementById("deduction-forms_title");
                if (target) {
                    target.scrollIntoView({ behavior: "smooth", block: "start" });
                }
            }
        });
    });
});
</script>

